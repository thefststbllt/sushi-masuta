{"version":3,"sources":["components/Cart/Cart.module.css","components/Cart/CartItem.module.css","components/Layout/HeaderCartButton/HeaderCartButton.module.css","components/Layout/Header/Header.module.css","components/Meals/MealItem/MealItem.module.css","components/UI/Modal.module.css","components/Meals/PromoText.module.css","components/Meals/MealsList.module.css","components/UI/Card.module.css","components/Meals/MealItem/MealItemForm.module.css","components/UI/Input.module.css","assets/background/background-sushi.webp","store/cart-context.js","components/Cart/CartIcon.js","components/Layout/HeaderCartButton/HeaderCartButton.js","components/Layout/Header/Header.js","components/Meals/PromoText.js","components/UI/Card.js","components/UI/Input.js","components/Meals/MealItem/MealItemForm.js","components/Meals/MealItem/MealItem.js","components/Meals/MealsList.js","components/Meals/Meals.js","components/UI/Modal.js","components/Cart/CartItem.js","components/Cart/Cart.js","store/CartContextProvider.js","App.js","index.js"],"names":["module","exports","CartContext","React","createContext","items","totalAmount","addItem","item","removeItem","id","CartIcon","xmlns","viewBox","fill","d","HeaderCartButton","props","useState","isButtonAnimated","setIsButtonAnimated","cartContext","useContext","cartItemsNumber","reduce","currentValue","amount","buttonClasses","styles","button","bump","useEffect","length","timer","setTimeout","clearTimeout","className","onClick","icon","badge","Header","Fragment","header","logo","onShowCart","src","sushiImage","alt","PromoText","Card","card","children","Input","forwardRef","ref","input","htmlFor","label","MealItemForm","isAmountValid","setIsAmountValid","amountInputRef","useRef","form","onSubmit","evt","preventDefault","inputAmount","current","value","trim","onAddToCart","type","min","step","defaultValue","MealItem","formattedPrice","price","toFixed","meal","name","description","DUMMY_MEALS","MealsList","mealsList","map","meals","Meals","Backdrop","backdrop","onHideCart","ModalWindow","modal","content","portalElement","document","getElementById","Modal","ReactDOM","createPortal","CartItem","Math","abs","classes","summary","actions","onRemove","onAdd","Cart","hasItems","addCartItemHandler","removeCartItemHandler","console","log","cartItems","bind","total","defaultCartState","cartReducer","state","action","updatedItem","updatedItems","updatedTotalAmount","existingCartItemIndex","findIndex","existingCardItem","concat","existingCartItem","filter","CartContextProvider","useReducer","cartState","dispatchCartAction","Provider","App","cartIsVisible","setCartIsVisible","render"],"mappings":"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","file":"static/js/main.e8b4533c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__2pjQw\",\"total\":\"Cart_total__3pLin\",\"actions\":\"Cart_actions__1GOmr\",\"button--alt\":\"Cart_button--alt__1Z2QQ\",\"button\":\"Cart_button__fw1-t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__1B1_q\",\"summary\":\"CartItem_summary__3FMDj\",\"price\":\"CartItem_price__2Nl0j\",\"amount\":\"CartItem_amount__jUKEC\",\"actions\":\"CartItem_actions__UwVPJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__1-RLF\",\"icon\":\"HeaderCartButton_icon__2S6Rg\",\"badge\":\"HeaderCartButton_badge__1tLbD\",\"bump\":\"HeaderCartButton_bump__1vXLz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2O1C4\",\"logo\":\"Header_logo__3EQTd\",\"main-image\":\"Header_main-image__90nQ_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealItem_meal__2uJ70\",\"description\":\"MealItem_description__2YINS\",\"price\":\"MealItem_price__3sNYl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1mfF6\",\"modal\":\"Modal_modal__4DXUe\",\"slide-down\":\"Modal_slide-down__W3MdX\",\"content\":\"Modal_content__3zUnK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"promo-text\":\"PromoText_promo-text__1ujlQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"MealsList_meals__1AclI\",\"meals-appear\":\"MealsList_meals-appear__AH5jF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1m44e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__32qVd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__2swPp\"};","export default __webpack_public_path__ + \"static/media/background-sushi.57a60759.webp\";","import React from 'react';\n\nconst CartContext = React.createContext({\n    items: [],\n    totalAmount: 0,\n    addItem: (item) => {},\n    removeItem: (id) => {}\n});\n\nexport default CartContext;\n","const CartIcon = () => {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 20 20\"\n            fill=\"currentColor\"\n        >\n            <path d=\"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\" />\n        </svg>\n    )\n}\n\nexport default CartIcon;","import {useContext, useEffect, useState} from 'react';\nimport CartContext from '../../../store/cart-context';\nimport CartIcon from '../../Cart/CartIcon';\nimport styles from './HeaderCartButton.module.css';\n\nconst HeaderCartButton = (props) => {\n    const [isButtonAnimated, setIsButtonAnimated] = useState(false)\n\n    const cartContext = useContext(CartContext);\n\n    const cartItemsNumber = cartContext.items.reduce((currentValue, item) => {\n        return currentValue + item.amount\n    }, 0);\n\n    const buttonClasses = `${styles.button} ${isButtonAnimated ? styles.bump : ''}`;\n\n    useEffect(() => {\n            if (!cartContext.items.length) {\n                return;\n            }\n            setIsButtonAnimated(true);\n\n            const timer = setTimeout(() => {\n                setIsButtonAnimated(false);\n            }, 300);\n\n            return () => {\n                clearTimeout(timer);\n            }\n        }, [cartContext.items]\n    );\n\n    return (\n        <button className={buttonClasses} onClick={props.onClick}>\n            <span className={styles.icon}>\n                <CartIcon/>\n            </span>\n            <span>Корзина</span>\n            <span className={styles.badge}>{cartItemsNumber}</span>\n        </button>\n    )\n}\n\nexport default HeaderCartButton;","import React from 'react';\nimport sushiImage from '../../../assets/background/background-sushi.webp';\nimport styles from './Header.module.css';\nimport HeaderCartButton from '../HeaderCartButton/HeaderCartButton';\n\nconst Header = (props) => {\n    return <React.Fragment>\n        <header className={styles.header}>\n            <h1 className={styles.logo}>Sushi Masuta</h1>\n            <HeaderCartButton onClick={props.onShowCart}/>\n        </header>\n        <div className={styles['main-image']}>\n            <img src={sushiImage} alt='Блюда японской кухни'/>\n        </div>\n    </React.Fragment>\n};\n\nexport default Header;\n","import styles from './PromoText.module.css';\n\nconst PromoText = () => {\n    return (\n        <section className={styles['promo-text']}>\n            <h2>Онлайн Суши Ресторан <b>Sushi Masuta</b></h2>\n            <p>Сеть онлайн ресторанов японской и паназиатской кухонь.<span>ボナペティ</span></p>\n            <p></p>\n        </section>\n    )\n}\n\nexport default PromoText;","import styles from './Card.module.css';\n\nconst Card = (props) => {\n    return (\n        <div className={styles.card}>{props.children}</div>\n    )\n}\n\nexport default Card;","import React from 'react';\nimport styles from './Input.module.css';\n\nconst Input = React.forwardRef((props, ref) => {\n    return (\n        <div className={styles.input}>\n            <label htmlFor={props.input.id}>{props.label}</label>\n            <input ref={ref} {...props.input}/>\n        </div>\n    )\n});\n\nexport default Input;","import {useRef, useState } from 'react';\n\nimport styles from './MealItemForm.module.css';\nimport Input from '../../UI/Input';\n\nconst MealItemForm = (props) => {\n\n    const [isAmountValid, setIsAmountValid] = useState(true);\n\n    const amountInputRef = useRef();\n\n    const submitHandler = (evt) => {\n        evt.preventDefault();\n\n        const inputAmount = amountInputRef.current.value;\n        if (!inputAmount.trim().length || +inputAmount < 1 || +inputAmount > 10) {\n            setIsAmountValid(false);\n            return;\n        }\n\n        props.onAddToCart(+inputAmount);\n    }\n\n    return (\n        <form className={styles.form} onSubmit={submitHandler}>\n            <Input\n                ref={amountInputRef}\n                label='Количество'\n                input={{\n                    id: props.id,\n                    type: 'number',\n                    min: '1',\n                    step: '1',\n                    defaultValue: '1'\n                }}\n            />\n            <button>Добавить</button>\n            {!isAmountValid && <p>Пожалуйста введите кол-во от 1 до 10</p>}\n        </form>\n    )\n}\n\nexport default MealItemForm","import { useContext } from 'react';\nimport styles from './MealItem.module.css'\nimport MealItemForm from './MealItemForm';\nimport CartContext from '../../../store/cart-context';\n\nconst MealItem = (props) => {\n\n    const cartContext = useContext(CartContext);\n\n    const formattedPrice = `${props.price.toFixed(2)} ₽`;\n\n    const addToCartHandler = (amount) => {\n        cartContext.addItem({\n            id: props.id,\n            name: props.name,\n            amount: amount,\n            price: props.price\n        })\n    }\n\n    return (\n        <li className={styles.meal}>\n            <div>\n                <h3>{props.name}</h3>\n                <div className={styles.description}>{props.description}</div>\n                <div className={styles.price}>{formattedPrice}</div>\n            </div>\n            <div>\n                <MealItemForm onAddToCart={addToCartHandler} id={props.id}/>\n            </div>\n        </li>\n    )\n}\n\nexport default MealItem;","import styles from './MealsList.module.css';\nimport Card from '../UI/Card';\nimport MealItem from './MealItem/MealItem';\n\nconst DUMMY_MEALS = [\n    {\n        id: \"m1\",\n        name: 'Сет \"Наоми\"',\n        description:\n            \"Сыр Филадельфия, куриное филе, рис, масаго, помидор, огурец, кунжут\",\n        price: 899,\n    },\n    {\n        id: \"m2\",\n        name: \"Сет Спайс в лососе\",\n        description: \"Рис, лосось, соус спайс\",\n        price: 299,\n    },\n    {\n        id: \"m3\",\n        name: \"Сет Суши с угрем\",\n        description: \"Угорь копченый, рис, соус унаги, кунжут\",\n        price: 389,\n    },\n    {\n        id: \"m4\",\n        name: 'Салат \"Сейджи\"',\n        description:\n            'Обжареный кальмар, помидоры черри, листья салата \"Айсберг\", сливочный соус, кунжутное масло, икра летучей рыбы тобико',\n        price: 599,\n    },\n];\n\n\nconst MealsList = () => {\n    const mealsList = DUMMY_MEALS.map((meal) =>\n        <MealItem\n            key={meal.id}\n            id={meal.id}\n            name={meal.name}\n            description={meal.description}\n            price={meal.price}\n        />\n    );\n    return (\n        <section className={styles.meals}>\n            <Card>\n                <ul>{mealsList}</ul>\n            </Card>\n        </section>\n    )\n}\n\nexport default MealsList;","import React from 'react';\nimport PromoText from './PromoText';\nimport MealsList from './MealsList';\n\nconst Meals = () => {\n    return (\n        <React.Fragment>\n            <PromoText />\n            <MealsList />\n        </React.Fragment>\n    )\n};\n\nexport default Meals;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport styles from './Modal.module.css';\n\nconst Backdrop = (props) => {\n    return (\n        <div className={styles.backdrop} onClick={props.onHideCart}></div>\n    )\n}\n\nconst ModalWindow = (props) => {\n    return (\n        <div className={styles.modal}>\n            <div className={styles.content}>{props.children}</div>\n        </div>\n    )\n}\n\nconst portalElement = document.getElementById('overlays');\n\nconst Modal = (props) => {\n    return (\n        <React.Fragment>\n            {ReactDOM.createPortal(<Backdrop onHideCart={props.onHideCart} />, portalElement)}\n            {ReactDOM.createPortal(<ModalWindow>{props.children}</ModalWindow>, portalElement)}\n        </React.Fragment>\n    );\n};\n\nexport default Modal","import classes from \"./CartItem.module.css\";\n\nconst CartItem = (props) => {\n    const price = `$${Math.abs(props.price.toFixed(2))}`;\n\n    return (\n        <li className={classes[\"cart-item\"]}>\n            <div>\n                <h2>{props.name}</h2>\n                <div className={classes.summary}>\n                    <span className={classes.price}>{price}</span>\n                    <span className={classes.amount}>x {props.amount}</span>\n                </div>\n            </div>\n            <div className={classes.actions}>\n                <button onClick={props.onRemove}>−</button>\n                <button onClick={props.onAdd}>+</button>\n            </div>\n        </li>\n    );\n};\n\nexport default CartItem;\n","import {useContext} from 'react';\nimport styles from './Cart.module.css';\nimport Modal from '../UI/Modal';\nimport CartContext from '../../store/cart-context';\nimport CartItem from './CartItem';\n\nconst Cart = (props) => {\n    const cartContext = useContext(CartContext);\n\n    const totalAmount = `${cartContext.totalAmount.toFixed(2)} ₽`;\n    const hasItems = cartContext.items.length > 0;\n\n    const addCartItemHandler = (item) => {\n        cartContext.addItem({...item, amount: 1})\n    };\n\n    const removeCartItemHandler = (id) => {\n        console.log(id)\n        cartContext.removeItem(id);\n    };\n\n    const cartItems = <ul className={styles['cart-items']}>{\n        cartContext.items.map(\n            item =>\n                <CartItem\n                    key={item.id}\n                    price={item.price}\n                    name={item.name}\n                    amount={item.amount}\n                    onAdd={addCartItemHandler.bind(null, item)}\n                    onRemove={removeCartItemHandler.bind(null, item.id)}\n                />\n        )\n    }</ul>;\n\n    return (\n        <Modal onHideCart={props.onHideCart}>\n            {cartItems}\n            <div className={styles.total}>\n                <span>Итого</span>\n                <span>{totalAmount}</span>\n            </div>\n            <div className={styles.actions}>\n                <button className={styles['button--alt']} onClick={props.onHideCart}>Закрыть</button>\n                {hasItems && <button className={styles.button}>Заказать</button>}\n            </div>\n        </Modal>\n    )\n};\n\nexport default Cart;","import {useReducer} from 'react';\nimport CartContext from './cart-context';\n\nconst defaultCartState = {\n    items: [],\n    totalAmount: 0\n};\n\nconst cartReducer = (state, action) => {\n    if (action.type === 'ADD_ITEM') {\n        const updatedTotalAmount = state.totalAmount + action.item.price * action.item.amount;\n\n        const existingCartItemIndex = state.items.findIndex((item) => item.id === action.item.id);\n\n        const existingCardItem = state.items[existingCartItemIndex];\n\n        let updatedItem;\n        let updatedItems;\n\n        if (existingCardItem) {\n            updatedItem = {\n                ...existingCardItem,\n                amount: existingCardItem.amount + action.item.amount\n            }\n\n            updatedItems = [...state.items];\n            updatedItems[existingCartItemIndex] = updatedItem;\n        } else {\n            updatedItem = {\n                ...action.item\n            }\n            updatedItems = state.items.concat(action.item);\n        }\n\n        return {\n            items: updatedItems,\n            totalAmount: updatedTotalAmount\n        };\n    }\n\n    if (action.type === 'REMOVE_ITEM') {\n        const existingCartItemIndex = state.items.findIndex(item => item.id === action.id);\n\n        const existingCartItem = state.items[existingCartItemIndex];\n        const updatedTotalAmount = state.totalAmount - existingCartItem.price;\n\n        let updatedItems;\n        if (existingCartItem.amount === 1) {\n            updatedItems = state.items.filter(item => item.id !== action.id);\n        } else {\n            const updatedItem = {\n                ...existingCartItem,\n                amount: existingCartItem.amount - 1\n            }\n            updatedItems = [...state.items];\n            updatedItems[existingCartItemIndex] = updatedItem;\n        }\n        return {\n            items: updatedItems,\n            totalAmount: updatedTotalAmount\n        }\n    }\n\n    return defaultCartState;\n};\n\nconst CartContextProvider = (props) => {\n    const [cartState, dispatchCartAction] = useReducer(cartReducer, defaultCartState);\n\n    const addItemHandler = (item) => {\n        dispatchCartAction({\n            type: 'ADD_ITEM',\n            item: item\n        });\n    };\n\n    const removeItemHandler = (id) => {\n        dispatchCartAction({\n            type: 'REMOVE_ITEM',\n            id: id\n        });\n    };\n\n    const cartContext = {\n        items: cartState.items,\n        totalAmount: cartState.totalAmount,\n        addItem: addItemHandler,\n        removeItem: removeItemHandler\n    };\n\n    return (\n        <CartContext.Provider value={cartContext}>\n            {props.children}\n        </CartContext.Provider>\n    )\n};\n\nexport default CartContextProvider;","import React, { useState } from 'react';\nimport Header from './components/Layout/Header/Header';\nimport Meals from './components/Meals/Meals';\nimport Cart from './components/Cart/Cart';\nimport CartContextProvider from './store/CartContextProvider';\n\nconst App = () => {\n\n    const [cartIsVisible, setCartIsVisible] = useState(false);\n\n    const showCartHandler = () => {\n        setCartIsVisible(true);\n    }\n\n    const hideCartHandler = () => {\n        setCartIsVisible(false);\n    }\n\n    return (\n        <CartContextProvider>\n            {cartIsVisible && <Cart onHideCart={hideCartHandler} />}\n            <Header onShowCart={showCartHandler} />\n            <main>\n                <Meals />\n            </main>\n        </CartContextProvider>\n    );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}